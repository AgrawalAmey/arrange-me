try{var ntrack=ntrack||{};var $=window.jQuery||window.Zepto||window.$;var userNTrackId,currentBrowseSessionId,activeSessionId,userUniqueNTrackId;var currentBrowseSessionTTL=4*60;var userNTrackTTL=1*365*24*60;var isReady=false;var queue=[];var canStringify=typeof (JSON)!=="undefined"&&typeof (JSON.stringify)!=="undefined";var eventQueue=[];var visitsUrl=ntrack.visitsUrl||"/ntrack/visits";var eventsUrl=ntrack.eventsUrl||"/bricks/ajax/tracking";var isDebugModOn=true;var RamTrackingHittingPoint="https://ingestor.magicbricks.com/ramIngestorService/";var RamTrackingServerContract="https://ingestor.magicbricks.com/server.html";function generateId(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(C){var B=Math.random()*16|0,A=C=="x"?B:(B&3|8);return A.toString(16)})}if(localStorage.getItem("userUniqueNTrackId")==null||localStorage.getItem("userUniqueNTrackId")==""){userUniqueNTrackId=generateId();localStorage.setItem("userUniqueNTrackId",userUniqueNTrackId)}ntrack.getRawDataObject=function(){return{}};function log(){if(isDebugModOn){for(var A=0;A<arguments.length;A++){console.log(arguments[A])}}}function checkBrowserSupportForTracking(){if(canStringify=="undefined"){return false}if(window.localStorage=="undefined"){return false}if(window.sessionStorage=="undefined"){return false}return true}if(!checkBrowserSupportForTracking()){var err="browser not support tracking functionality";throw err}ntrack.trackingGlobalData={};ntrack.trackingEvent={ASandBD:"ASandBD",Compare:"Compare",Contact:"Contact",DetailView:"DetailView",MailOpen:"MailOpen",MailSent:"MailSent",NotificationOpen:"NotificationOpen",NotificationSent:"NotificationSent",Requirement:"Requirement",Search:"Search",Shortlist:"Shortlist",BrowserNotification:"BrowserNotification"};ntrack.EventActivityType={Property:"Property",PSM:"PSM",PRJ:"PRJ",Agent:"Agent",Locality:"Locality",Others:"Others"};ntrack.Source={Web:"Web",Web_Mobile:"Web_Mobile",Web_Others:"Web_Others",Mobile:"Mobile",App_Android:"App_Android",App_Ios:"App_Ios",App_Others:"App_Others",Alert:"Alert",Notification:"Notification"};ntrack.dataPostUrlsFor={Search:RamTrackingHittingPoint+"search",Contact:RamTrackingHittingPoint+"contact",MailOpen:RamTrackingHittingPoint+"mailOpen",MailSent:RamTrackingHittingPoint+"mailSent",DetailView:RamTrackingHittingPoint+"detailView",Requirement:RamTrackingHittingPoint+"requirement"};ntrack.ramTrackingEventModel={getTrackingEventModel:function(B){var A;switch(B){case ntrack.trackingEvent.Search:A={eventInfo:{eventType:"",activityType:"",source:""},ext_id:[],requestInfo:{referrer:"",campaign_type:"",utm_source:"",deviceInfo:{ip:"",device:"",resolution:"",platform:""},from_page:""},userInfo:{user_id:"",email_id:"",active_session_id:"",name:"",mobile:"",verified_mob:"",user_type:""},propertyInfo:{category:"",prop_type:[],parent_prop_type:"",locality:[],psm:[],project_type:"",locality_type:"",localityname:"",point_of_interest:"",transaction_type:[],city:0,min_budget:0,max_budget:0,budget_per_sqft_min:0,budget_per_sqft_max:0,area_from:0,area_to:0,bedrooms:[],posted_by:[],searchpostedby:[],construction_status:[],construction_age:[],amenities:[],furnished_status:[],with_photo:false,with_video:false,bathroom:[],additional_room:[],preferred_floor:[],parking_type:0,num_Of_parking:[],facing:[],overlooking:[],preferred_psm:[],preferred_builder:[],society_type:[],max_brokrage:0,max_security:0,deals_offers_interests:false,dealing_in:[],verified:false,featured_agent:false,landmark:0,landmarkLatLong:0,landmarkTravelTime:0,landmarkModeOfTrans:0,landmarkDistance:0,},additionalData:[]};break;case ntrack.trackingEvent.Contact:A={eventInfo:{eventType:"",activityType:"",source:""},ext_id:[],requestInfo:{referrer:"",campaign_type:"",utm_source:"",deviceInfo:{ip:"",device:"",resolution:"",platform:""},from_page:""},userInfo:{user_id:"",email_id:"",active_session_id:"",name:"",mobile:"",verified_mob:"",user_type:""},homeLoan:false,interested:[],additionalData:[]};break;case ntrack.trackingEvent.BrowserNotification:A={eventInfo:{eventType:"",activityType:"",source:""},rid:"",requestInfo:{referrer:"",campaign_type:"",utm_source:"",deviceInfo:{ip:"",device:"",resolution:"",platform:""},from_page:""},userInfo:{user_id:"",email_id:"",active_session_id:"",name:"",mobile:"",verified_mob:"",user_type:""}};break;case ntrack.trackingEvent.DetailView:A={eventInfo:{eventType:"",activityType:"",source:""},ext_id:0,requestInfo:{referrer:"",campaign_type:"",utm_source:"",deviceInfo:{ip:"",device:"",resolution:"",platform:""},from_page:""},userInfo:{user_id:"",email_id:"",active_session_id:"",name:"",mobile:"",verified_mob:"",user_type:""},additionalData:[]};break}return A}};ntrack.eventMappingObject={getEventMappingModel:function(B){var A;switch(B){case ntrack.trackingEvent.Search:A={url:"",activityType:"EventActivityType",eventType:"trackingEvent",ext_id:"",source:"Source",ip:"",device:"Source",resolution:"",referrer:"",act_sess_id:"",campaign_type:"",utm_source:"",platform:"",from_page:"",user_id:"",mobile:"",category:"category",prop_type:"prop_type",parent_prop_type:"parent_prop_type",locality:"locality",locality_type:"LocalityType",localityname:"localityName",psm:"psm",city:"city",min_budget:"budgetMin",max_budget:"budgetMax",bedrooms:"bedrooms",posted_by:"inputListings",transaction_type:"saleType",furnished_status:"furnished",area_from:"areaFrom",area_to:"areaTo",area_unit:"areaUnit",with_photo:"with_photo",with_video:"with_video",construction_status:"possessionStatus",construction_age:"ageConstruction",deals_offers_interests:"deals_offers_interests",amenities:"amenities",keyword:"keyword",project_type:"projectsType",dealing_in:"transactionType",verified:"verified",featured_agent:"featured",budget_per_sqft_min:"",budget_per_sqft_max:"",point_of_interest:"",bathroom:"bathrooms",facing:"facing",landmark:"searchLocName",landmarkLatLong:"radius",landmarkTravelTime:"searchLocTime",landmarkModeOfTrans:"searchTransMode",landmarkDistance:"searchLocDist",additionalData:"additionalData"};break;case ntrack.trackingEvent.Contact:A={activityType:"EventActivityType",eventType:"trackingEvent",ext_id:"actualOwnerId",source:"Source",ip:"",device:"Source",resolution:"",referrer:"",act_sess_id:"",campaign_type:"",utm_source:"",platform:"",from_page:"",user_id:"",email_id:"email_id",name:"name",mobile:"mobile",verified_mob:"verified_mob",user_type:"",homeLoan:"homeLoan",interested:"interested",mailer_id:"actualOwnerId"};break;case ntrack.trackingEvent.BrowserNotification:A={activityType:"EventActivityType",eventType:"trackingEvent",rid:"rid",source:"Source",ip:"",device:"Source",resolution:"",referrer:"",act_sess_id:"",campaign_type:"",utm_source:"",platform:"",from_page:"",user_id:"",email_id:"email_id",name:"name",mobile:"mobile",verified_mob:"verified_mob",user_type:""};break;case ntrack.trackingEvent.DetailView:A={activityType:"EventActivityType",eventType:"trackingEvent",ext_id:"id",source:"Source",ip:"",device:"Source",resolution:"",referrer:"",act_sess_id:"",campaign_type:"",utm_source:"",platform:"",from_page:"",user_id:"",email_id:"",name:"",mobile:"",verified_mob:"",user_type:"",};break}return A}};ntrack.ramTrackingHelper={searchHelperUtil:{DefaultValues:{activityType:"Others",parent_prop_type:"Others",locality_type:"Others",project_type:"Others",campaign_type:"Others"}}};try{$("html").append('<iframe style="display:none;" border="none" id="guestFrame1" name="guestFrame1" width="0px" height="0px" frameborder="1" src="'+RamTrackingServerContract+'" scrolling="no"></iframe>');function onMessage1(A){console.log(A)}var windowProxy1;windowProxy1=new Porthole.WindowProxy(RamTrackingServerContract,"guestFrame1");windowProxy1.addEventListener(onMessage1)}catch(error){log(error+"problem in iframe creation")}ntrack.getDataPostLocation=function(A){var B=null;switch(A){case ntrack.trackingEvent.Search:B=ntrack.dataPostUrlsFor.Search;break;case ntrack.trackingEvent.Contact:B=ntrack.dataPostUrlsFor.Contact;break;case ntrack.trackingEvent.MailOpen:B=ntrack.dataPostUrlsFor.MailOpen;break;case ntrack.trackingEvent.MailSent:B=ntrack.dataPostUrlsFor.MailSent;break;case ntrack.trackingEvent.DetailView:B=ntrack.dataPostUrlsFor.DetailView;break;case ntrack.trackingEvent.Requirement:B=ntrack.dataPostUrlsFor.Requirement;break}return B};function fillRawObject(F,E,D){try{for(var A in F){switch(Object.prototype.toString.call(F[A])){case"[object Boolean]":E[A]=F[A];break;case"[object Number]":E[A]=F[A];break;case"[object String]":E[A]=F[A];break;case"[object Array]":E[A]=F[A];break;case"[object HTMLInputElement]":break;case"[object global]":break;case"[object Object]":var B=F[A];if(D<1){D++;fillRawObject(B,E,D);D--}break;default:}}}catch(C){log(C)}}ntrack.getTrackingGlobalData=function(){var A={resolution:window.screen.availWidth+"X"+window.screen.availHeight,referrer:document.referrer,platform:navigator.appName+navigator.appVersion,name:getCookie("userName")||getCookie("contactNameCookie"),mobile:getCookie("userMobile")||getCookie("contackMobileCookie"),email_id:getCookie("userEmail")||getCookie("contactEmailCookie"),userMobileCountry:getCookie("userMobileCountry")||getCookie("contactIsdCookie"),user_type:getCookie("userType")||getCookie("contactUserTypeCookie"),verified_mob:getCookie("verificationFlag"),user_id:getCookie("userNTrackId"),active_session_id:sessionStorage.currentBrowseSessionId,ip:clientIP};return A};ntrack.sendEvent=function(C){try{console.log(C.eventInfo.eventType);var B=C.eventInfo.eventType;B=B.charAt(0).toLowerCase()+B.slice(1);windowProxy1.post({event:C,url:RamTrackingHittingPoint+B})}catch(A){return false}};ntrack.eventValidate=function(C,B){var A=ntrack.ramTrackingEventModel.getTrackingEventModel(C);var E=0;var D=ntrack.validateTypeOfObjects(A,B,E);if(!D){log("not Valid Bean")}};ntrack.validateTypeOfObjects=function(B,C,D){for(var A in C){switch(Object.prototype.toString.call(C[A])){case"[object Object]":if(D<3){D++;ntrack.validateTypeOfObjects(B[A],C[A]);D--}break;default:if(Object.prototype.toString.call(B[A])!=Object.prototype.toString.call(C[A])){return false}}}return true};function setCookie(E,F,B){F=F.replace(/%20/g,"");var C="";var A="";if(B){var D=new Date();D.setTime(D.getTime()+(B*60*1000));C="; expires="+D.toGMTString()}if(ntrack.domain){A="; domain="+ntrack.domain}document.cookie=E+"="+escape(F)+C+A+"; path=/"}function getCookie(B){var C,F;var E=B+"=";var A=document.cookie.split(";");for(C=0;C<A.length;C++){F=A[C];while(F.charAt(0)===" "){F=F.substring(1,F.length)}if(F.indexOf(E)===0){var D=F.substring(E.length,F.length);return unescape(D.replace(/%20/g,""))}}return null}function destroyCookie(A){setCookie(A,"",-1)}function setReady(){var A;while(A=queue.shift()){A()}isReady=true}function ready(A){if(isReady){A()}else{queue.push(A)}}function saveEventQueue(){if(canStringify){}}function trackEvent(A){ready(function(){var B=ntrack.sendEvent(A);if(B==false){$.ajax({type:"POST",contentType:"application/json",url:eventsUrl+"?eventType="+A.eventInfo.eventType,data:JSON.stringify(A),dataType:"json",success:function(){console.log("done sending")}})}})}function page(){return ntrack.page||window.location.pathname}function eventProperties(B){var A=$(B.currentTarget);return{tag:A.get(0).tagName.toLowerCase(),id:A.attr("id"),"class":A.attr("class"),page:page(),section:A.closest("*[data-section]").data("section")}}ntrack.fillUserSystemInfo=function(A){ntrack.trackingGlobalData.systemInfo=ntrack.getTrackingGlobalData();if(ntrack.trackingGlobalData.systemInfo.email_id!=null&&ntrack.trackingGlobalData.systemInfo.email_id!=undefined){ntrack.trackingGlobalData.systemInfo.email_id=ntrack.trackingGlobalData.systemInfo.email_id.replace(/['"]+/g,"")}Object.getOwnPropertyNames(ntrack.trackingGlobalData.systemInfo).forEach(function(D,C,B){fillModel(D,ntrack.trackingGlobalData.systemInfo[D],A)});switch(A.trackingEvent){case ntrack.trackingEvent.Search:break;case ntrack.trackingEvent.Contact:break;case ntrack.trackingEvent.MailOpen:break;case ntrack.trackingEvent.MailSent:break;case ntrack.trackingEvent.DetailView:break;case ntrack.trackingEvent.Requirement:break;default:}};function getIdsList(A,B){var C=[];if(B[A]!=null){B[A]=B[A]+"";if(B[A].indexOf("||")!=-1){C=B[A].split("||")}else{if(B[A].indexOf(",")!=-1){C=B[A].split(",")}else{if(B[A].indexOf("-")!=-1){C=B[A].split("-")}else{if(B[A].indexOf("_")!=-1){C=B[A].split("_")}else{if(B[A].indexOf("=")!=-1){C=B[A].split("=")}else{if(B[A].indexOf('"')!=-1){C=B[A].split('"')}else{C=[B[A]]}}}}}}}return C}function giveMeArray(A){var B={};if(A!=null){A=A+"";if(A.indexOf("||")!=-1){B=A.split("||")}else{if(A.indexOf(",")!=-1){B=A.split(",")}else{if(A.indexOf("-")!=-1){B=A.split("-")}else{if(A.indexOf("_")!=-1){B=A.split("_")}else{if(A.indexOf("=")!=-1){B=A.split("=")}else{if(A.indexOf('"')!=-1){B=A.split('"')}else{B=[A]}}}}}}}return B}ntrack.getVisitId=ntrack.getVisitToken=function(){return visitId};ntrack.getVisitorId=ntrack.getVisitorToken=function(){return visitorId};ntrack.reset=function(){destroyCookie("userNTrackId");destroyCookie("currentBrowseSessionId");destroyCookie("ntrack_events");destroyCookie("activeSessionId");return true};ntrack.debug=function(A){if(A===false){destroyCookie("ntrack_debug")}else{setCookie("ntrack_debug","t",365*24*60)}return true};ntrack.trackView=function(){var A={url:window.location.href,title:document.title,page:page()};ntrack.track("$view",A)};ntrack.trackClicks=function(){$(document).on("click","a, button, input[type=submit]",function(C){var A=$(C.currentTarget);var B=eventProperties(C);B.text=B.tag=="input"?A.val():$.trim(A.text().replace(/[\s\r\n]+/g," "));B.href=A.attr("href");ntrack.track("$click",B)})};ntrack.trackSubmits=function(){$(document).on("submit","form",function(B){var A=eventProperties(B);ntrack.track("$submit",A)})};ntrack.trackChanges=function(){$(document).on("change","input, textarea, select",function(B){var A=eventProperties(B);ntrack.track("$change",A)})};ntrack.trackAll=function(){ntrack.trackView();ntrack.trackClicks();ntrack.trackSubmits();ntrack.trackChanges()};ntrack.getUrlOtherParams=function(B){var D=B.split("|");var E=[];for(var A in D){var C=D[A].split("=");E[C[0]]=C[1]}return E};ntrack.getSearchBy=function(){var D=ntrack.getUrlParams(ntrack.visitsUrl);var B="cityName";for(var C in D){var A=C.split("=");if(A.length>1){if(A[0]=="projectSocity"){B="projectSocity"}else{if(A[0]=="Locality"){B="Locality"}else{if(A[0]=="developerName"){B="developerName"}}}}}return B};ntrack.getDataMapFromThisEventSourceObject=function(B,A){var C=0;fillRawObject(B,A,C)};ntrack.searchCatagory=function(){var B=window.location.href;var A=B.split("/");return A[3]};ntrack.setEventActivityType=function(A){switch(A.trackingEvent){case ntrack.trackingEvent.Search:if(A.searchType!==null&&A.EventActivityType==null){if(A.searchType=="1"){A.EventActivityType=ntrack.EventActivityType.Property}else{if(A.searchType=="2"){A.EventActivityType=ntrack.EventActivityType.Agent}else{if(A.searchType=="3"){A.EventActivityType=ntrack.EventActivityType.Others}else{if(A.searchType=="4"){A.EventActivityType=ntrack.EventActivityType.Agent}else{if(A.searchType=="5"){A.EventActivityType=ntrack.EventActivityType.PSM}else{A.EventActivityType=ntrack.EventActivityType.Others}}}}}}if(A.EventActivityType==null){A.EventActivityType=ntrack.EventActivityType.Others}break;case ntrack.trackingEvent.Contact:if(A.contactType!==null&&A.EventActivityType==null){if(A.contactType=="property"||A.contactType==ntrack.EventActivityType.Property){A.EventActivityType=ntrack.EventActivityType.Property}else{if(A.contactType=="agent"||A.contactType==ntrack.EventActivityType.Agent){A.EventActivityType=ntrack.EventActivityType.Agent}else{if(A.contactType==ntrack.EventActivityType.PRJ){A.EventActivityType=ntrack.EventActivityType.PRJ}else{if(A.contactType==ntrack.EventActivityType.PSM){A.EventActivityType=ntrack.EventActivityType.PSM}else{if(A.contactType=="project"||A.contactType=="Project"){A.EventActivityType=ntrack.EventActivityType.Property}else{A.EventActivityType=ntrack.EventActivityType.Others}}}}}}if(A.EventActivityType==null){A.EventActivityType=ntrack.EventActivityType.Others}break;case ntrack.trackingEvent.MailOpen:break;case ntrack.trackingEvent.MailSent:break;case ntrack.trackingEvent.DetailView:if(!A.EventActivityType){A.EventActivityType=ntrack.EventActivityType.Property}break;case ntrack.trackingEvent.Requirement:break;default:}};ntrack.fillEventModelByEventData=function(C,A,B){Object.getOwnPropertyNames(B).forEach(function(F,E,D){Object.getOwnPropertyNames(A).forEach(function(G,I,H){if(A[G]==F){fillModel(G,B[F],C)}})})};function fillModel(B,E,A){var D=false;for(var C in A){if(C==B){A[B]=E;D=true;break}else{if(typeof A[C]!=null&&typeof A[C]=="object"){D=fillModel(B,E,A[C]);if(D){return D}}}}return D}ntrack.modifyEventMappingObject=function(A,B){switch(A.trackingEvent){case ntrack.trackingEvent.Search:if(A.searchType!==null){if(A.searchType=="1"){}else{if(A.searchType=="2"){B.verified="criAgents"}else{if(A.searchType=="3"){}else{if(A.searchType=="4"){}else{if(A.searchType=="5"){B.construction_status="possessionYears"}else{}}}}}}if(A.EventActivityType==null){}break;case ntrack.trackingEvent.Contact:if(A.contactType!==null&&A.EventActivityType==null){if(A.contactType=="property"){}else{if(A.contactType=="agent"){}else{}}}if(A.EventActivityType!=null&&A.EventActivityType==ntrack.EventActivityType.PSM){B.ext_id="propertyIdStringArray"}if(A.EventActivityType==null){}break;case ntrack.trackingEvent.MailOpen:break;case ntrack.trackingEvent.MailSent:break;case ntrack.trackingEvent.DetailView:break;case ntrack.trackingEvent.Requirement:break;default:}};ntrack.modifySendEventFromUrl=function(J,C){var I=window.location.href.split("&");var H=[];for(var D=0;D<I.length;D++){if(I[D].indexOf("emailid")==0){var G=I[D];G=G.substr(8,G.length);H.emailid=G.replace(/['"]+/g,"")}else{if(I[D].indexOf("mobile")==0){var F=I[D];F=F.substr(7,F.length);H.mobile=F}else{var B=I[D].split("=");H[B[0]]=B[1]}}}if(H.emailid){J.userInfo.email_id=H.emailid;J.mail_id=H.emailid}if(H.mobile){J.userInfo.mobile=H.mobile}if(H.pid){J.requestInfo.campaign_type="Paid"}else{var A="Others";if(document.referrer&&document.referrer!=""){if(document.referrer.indexOf("magicbricks.com")<20&&document.referrer.indexOf("magicbricks.com")!=-1){A="Internal"}else{A="Organic"}}else{if(window.opener){var E=window.opener.location.hostname;if(!(typeof E==="undefined")&&E!=null&&E!=""){if(E!=null&&E!=undefined&&document.domain!=null&&document.domain!=undefined&&E.indexOf(document.domain)<20){A="Internal"}else{A="Organic"}}}}J.requestInfo.campaign_type=A}if(H.utm_source){J.requestInfo.utm_source=H.utm_source}switch(J.trackingEvent){case ntrack.trackingEvent.Search:break;case ntrack.trackingEvent.Contact:break;case ntrack.trackingEvent.MailOpen:break;case ntrack.trackingEvent.MailSent:break;case ntrack.trackingEvent.DetailView:break;case ntrack.trackingEvent.Requirement:break;default:}};ntrack.util={createSchemaFrom:function(B){for(var A in B){switch(Object.prototype.toString.call(B[A])){case"[object Boolean]":B[A]=false;break;case"[object Number]":B[A]=0;break;case"[object String]":B[A]="";break;case"[object Array]":B[A]=[];break;case"[object HTMLInputElement]":break;case"[object global]":break;case"[object Object]":ntrack.util.createSchemaFrom(B[A]);break;default:}}},getParantPropertyNameFromCode:function(A){},getProjectTypeNameFromCode:function(A){},isAdditionalSearchParam:function(A,B){},Search:{Residential:["10000","10017","10001","10002","10003","10054","10020","10021","10022"],Commercial:["10018","10006","10012","10015","10016","10007","10008","10009","10052","10051","10010","10011","10013","10014","10030"]}};ntrack.util.putAdditionalData=function(I,C,E){switch(C.trackingEvent){case ntrack.trackingEvent.Search:var A=C.rawUrl.split("&");var H={};for(var D=0;D<A.length;D++){var B=A[D].split("=");H[B[0]]=B[1]}var G=["imageVideo","Search_Param_Maps","bar_propertyType_new","source","searchType","price","page","tab1","SRP","bar_propertyType_R_new","mbTrackSrc","firstLocalityLinkRender","resultPerPage","propertyType","nsrSearchBar","searchTransMode","state","sortBy","projectsIn"];for(var D=0,F=G.length;D<F;D++){if((H[G[D]]!=null)){delete H[G[D]]}}Object.getOwnPropertyNames(H).forEach(function(N,L,J){var M=false;Object.getOwnPropertyNames(E).forEach(function(Q,O,P){if(E[Q]!=null&&E[Q]==N){M=true;return }});if(!M){var K={paramType:"AdditionalParam-1",paramValues:["123XX","654FFF","765DDD"]};K.paramType=N;K.paramValues=giveMeArray(H[N]);I.additionalData.push(K)}});break;case ntrack.trackingEvent.Contact:break;case ntrack.trackingEvent.MailOpen:break;case ntrack.trackingEvent.MailSent:break;case ntrack.trackingEvent.DetailView:break;case ntrack.trackingEvent.Requirement:break;default:}};ntrack.sendRamTrackEvent=function(H){switch(H.trackingEvent){case ntrack.trackingEvent.Search:var A=H.rawUrl.split("&");for(var G=0;G<A.length;G++){var D=A[G].split("=");H[D[0]]=D[1]}if(H.bar_propertyType_new==undefined||H.bar_propertyType_new==null){return }var C=H.bar_propertyType_new.split(",");var F={Residential:[],Commercial:[],Others:[]};for(var I in C){var E=C[I].split("_");for(var B in E){if(ntrack.util.Search.Residential.includes(E[B])){F.Residential.push(E[B])}else{if(ntrack.util.Search.Commercial.includes(E[B])){F.Commercial.push(E[B])}else{if(!isNaN(E[B])){F.Others.push(E[B])}}}}}Object.getOwnPropertyNames(F).forEach(function(L,K,J){if(F[L].length!=0){H.prop_type=F[L];H.parent_prop_type=L;var M=JSON.parse(JSON.stringify(H));ntrack.doSingleEventProcessing(M)}});break;case ntrack.trackingEvent.Contact:ntrack.doSingleEventProcessing(H);break;case ntrack.trackingEvent.MailOpen:break;case ntrack.trackingEvent.MailSent:break;case ntrack.trackingEvent.DetailView:ntrack.doSingleEventProcessing(H);break;case ntrack.trackingEvent.Requirement:break;case ntrack.trackingEvent.BrowserNotification:ntrack.doSingleEventProcessing(H);break;default:}};ntrack.doSingleEventProcessing=function(B){log("inRamTracking");ntrack.refactorData(B);log(B);var A={};ntrack.getDataMapFromThisEventSourceObject(B,A);log(A);setTimeout(function(){ntrack.track(ntrack.getSendEventData(A))},1000)};ntrack.getSendEventData=function(A){if(getCookie("userEmail")){if(localStorage.getItem("knownTrack")=="true"){setCookie("userNTrackId",getCookie("userEmail"),userNTrackTTL)}else{localStorage.setItem("knownTrack","true")}}var B=ntrack.eventMappingObject.getEventMappingModel(A.trackingEvent);var C=ntrack.ramTrackingEventModel.getTrackingEventModel(A.trackingEvent);ntrack.util.createSchemaFrom(C);ntrack.modifyEventMappingObject(A,B);ntrack.fillUserSystemInfo(C);ntrack.modifySendEventFromUrl(C,A);ntrack.util.putAdditionalData(C,A,B);ntrack.fillEventModelByEventData(C,B,A);return C};ntrack.updateInMobile=function(){var A=getCookie("userEmail")||getCookie("contactEmailCookie");setCookie("userNTrackId",A,userNTrackTTL);mobileUpdUrl+="#"+A;if($("#mFrame1")){$("#mFrame1").remove()}$("html").append('<iframe style="display:none;" border="none" id="mFrame1" name="mFrame1" width="0px" height="0px" frameborder="1" src="'+mobileUpdUrl+'" scrolling="no"></iframe>')};ntrack.refactorData=function(H){switch(H.trackingEvent){case ntrack.trackingEvent.Search:var L=["facing","postedSince","inputListings","saleType","imageVideo","amenities","localityName","bedrooms","possessionYears","transactionType","furnished","ageConstruction","bathrooms","locality","psm","possessionStatus"];Object.getOwnPropertyNames(L).forEach(function(N,O,M){H[L[N]]=getIdsList(L[N],H)});if(H.city!=null){H.city=H.city.split("-")[0]}if(H.radius){H.searchLocDist=H.radius.split(",")[2];H.searchLocDist=H.searchLocDist.split(".")[0];H.landmarkLatLong=H.radius.split(",");var I=H.landmarkLatLong[0]+","+H.landmarkLatLong[1];H.radius=I}if(H.discountsOffers){H.deals_offers_interests=true}if(H.featured=="y"){H.featured=true}if(H.criAgents=="y"){H.criAgents=true}if(H.verified=="Y"){H.verified=true}if(H.category=="S"){H.category="Buy"}else{if(H.category=="R"){H.category="Rent"}else{if(H.category!="Rent"&&H.category!="Buy"){H.category="Buy"}}}for(var D in H.imageVideo){if(H.imageVideo[D]=="1"){H.with_photo=true}else{if(H.imageVideo[D]=="2"){H.with_video=true}}}H.LocalityType="Others";if(H.projectsType){var A=H.projectsType;for(var G in A.split(",")){if(H.projectsType[G]=="0"){H.projectsType="Budget"}else{if(H.projectsType[G]=="1"){H.projectsType="Premium"}else{if(H.projectsType[G]=="2"){H.projectsType="Luxory"}else{H.projectsType="Others"}}}}}else{H.projectsType="Others"}if(H.projectsIn){var C=H.projectsIn;for(var G in C.split(",")){if(H.projectsIn[G]=="0"){H.LocalityType="Upcoming"}else{if(H.projectsIn[G]=="1"){H.LocalityType="Developed"}else{if(H.projectsIn[G]=="2"){H.LocalityType="Premium"}else{H.LocalityType="Others"}}}}}else{if(H.projectsIn){H.LocalityType="Others"}}if(H.propertiesIn){for(var G in H.propertiesIn.split(",")){if(H.propertiesIn[G]=="0"){H.LocalityType="Upcoming"}else{if(H.propertiesIn[G]=="1"){H.LocalityType="Developed"}else{if(H.propertiesIn[G]=="2"){H.LocalityType="Premium"}else{H.LocalityType="Others"}}}}}else{if(H.propertiesIn){H.LocalityType="Others"}}if(H.campaignCode){var K=["Paid","Internal","Organic","Others"];if(K.indexOf(H.campaignCode)==-1){H.campaignCode="Others"}}else{H.campaignCode="Others"}if(H.bedrooms){if(typeof H.bedrooms=="string"){H.bedrooms=[H.bedrooms]}var J=[];for(var E=0;E<H.bedrooms.length;E++){if(H.bedrooms[E].includes("-")){J=J.concat(H.bedrooms[E].split("-"))}else{J=J.concat(H.bedrooms[E])}}H.bedrooms=J}break;case ntrack.trackingEvent.Contact:var F=H.propertyIdStringArray;H.propertyIdStringArray=[];for(var B in F){H.propertyIdStringArray.push(giveMeArray(F[B])[0])}H.actualOwnerId=giveMeArray(H.actualOwnerId);H.interested=[];if(H.homeLoanCheckVal2){H.interested.push("Site Visit")}if(H.homeLoanCheckVal3){H.interested.push("Purchase")}if(H.loanLead){H.homeLoan=true}if(H.campaignCode){var K=["Paid","Internal","Organic","Others"];if(K.indexOf(H.campaignCode)==-1){H.campaignCode="Others"}}else{H.campaignCode="Others"}console.log(H);break;case ntrack.trackingEvent.MailOpen:break;case ntrack.trackingEvent.MailSent:break;case ntrack.trackingEvent.DetailView:if(H.comScorePageUrl){H.id=H.comScorePageUrl.slice("project_search_detail_".length,H.comScorePageUrl.length-2);H.EventActivityType=ntrack.EventActivityType.PSM}if(H.campaignCode){var K=["Paid","Internal","Organic","Others"];if(K.indexOf(H.campaignCode)==-1){H.campaignCode="Others"}}else{H.campaignCode="Others"}break;case ntrack.trackingEvent.Requirement:break;default:log("unknown event is been hit")}ntrack.setEventActivityType(H)};ntrack.track=function(A){eventQueue.push(A);saveEventQueue();setTimeout(function(){trackEvent(A)},1000)};userNTrackId=getCookie("userNTrackId");currentBrowseSessionId=getCookie("currentBrowseSessionId");if(userNTrackId){if(typeof (Storage)!=="undefined"){if(sessionStorage.currentBrowseSessionId){}else{sessionStorage.currentBrowseSessionId=generateId()}}else{log("your browser does not support session Storage")}log("Active visit");setReady()}else{if(!userNTrackId){userNTrackId=localStorage.getItem("userUniqueNTrackId");setCookie("userNTrackId",userNTrackId,userNTrackTTL);localStorage.setItem("knownTrack","false");if(typeof (Storage)!=="undefined"){if(sessionStorage.currentBrowseSessionId){}else{sessionStorage.currentBrowseSessionId=generateId()}}else{log("your browser does not support session Storage")}}if(getCookie("UserNTrackId")){log("Visit started");var data={visit_token:currentBrowseSessionId,visitor_token:userNTrackId,platform:ntrack.platform||"Web",landing_page:window.location.href,screen_width:window.screen.width,screen_height:window.screen.height};if(document.referrer.length>0){data.referrer=document.referrer}log(data);$.post(visitsUrl,data,setReady,"json")}else{log("Cookies disabled");setReady()}}try{eventQueue=JSON.parse(getCookie("ntrack_events")||"[]")}catch(e){}for(var i=0;i<eventQueue.length;i++){trackEvent(eventQueue[i])}}catch(err){console.log(err)};