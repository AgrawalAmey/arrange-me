/* jCarousel - v0.3.1 - 2014-04-26
* http://sorgalla.com/jcarousel
* Copyright (c) 2014 Jan Sorgalla; Licensed MIT */
(function(B){var A=B.jCarousel={};A.version="0.3.1";var C=/^([+\-]=)?(.+)$/;A.parseTarget=function(E){var D=!1,F="object"!=typeof E?C.exec(E):null;return F?(E=parseInt(F[2],10)||0,F[1]&&(D=!0,"-="===F[1]&&(E*=-1))):"object"!=typeof E&&(E=parseInt(E,10)||0),{target:E,relative:D}},A.detectCarousel=function(E){for(var D;E.length>0;){if(D=E.filter("[data-jcarousel]"),D.length>0){return D}if(D=E.find("[data-jcarousel]"),D.length>0){return D}E=E.parent()}return null},A.base=function(D){return{version:A.version,_options:{},_element:null,_carousel:null,_init:B.noop,_create:B.noop,_destroy:B.noop,_reload:B.noop,create:function(){return this._element.attr("data-"+D.toLowerCase(),!0).data(D,this),!1===this._trigger("create")?this:(this._create(),this._trigger("createend"),this)},destroy:function(){return !1===this._trigger("destroy")?this:(this._destroy(),this._trigger("destroyend"),this._element.removeData(D).removeAttr("data-"+D.toLowerCase()),this)},reload:function(E){return !1===this._trigger("reload")?this:(E&&this.options(E),this._reload(),this._trigger("reloadend"),this)},element:function(){return this._element},options:function(E,F){if(0===arguments.length){return B.extend({},this._options)}if("string"==typeof E){if(F===void 0){return this._options[E]===void 0?null:this._options[E]}this._options[E]=F}else{this._options=B.extend({},this._options,E)}return this},carousel:function(){return this._carousel||(this._carousel=A.detectCarousel(this.options("carousel")||this._element),this._carousel||B.error('Could not detect carousel for plugin "'+D+'"')),this._carousel},_trigger:function(E,G,F){var I,H=!1;return F=[this].concat(F||[]),(G||this._element).each(function(){I=B.Event((D+":"+E).toLowerCase()),B(this).trigger(I,F),I.isDefaultPrevented()&&(H=!0)}),!H}}},A.plugin=function(D,F){var E=B[D]=function(G,H){this._element=B(G),this.options(H),this._init(),this.create()};return E.fn=E.prototype=B.extend({},A.base(D),F),B.fn[D]=function(G){var H=Array.prototype.slice.call(arguments,1),I=this;return"string"==typeof G?this.each(function(){var J=B(this).data(D);if(!J){return B.error("Cannot call methods on "+D+' prior to initialization; attempted to call method "'+G+'"')}if(!B.isFunction(J[G])||"_"===G.charAt(0)){return B.error('No such method "'+G+'" for '+D+" instance")}var K=J[G].apply(J,H);return K!==J&&K!==void 0?(I=K,!1):void 0}):this.each(function(){var J=B(this).data(D);J instanceof E?J.reload(G):new E(this,G)}),I},E}})(jQuery),function(B,A){var C=function(D){return parseFloat(D)||0};B.jCarousel.plugin("jcarousel",{animating:!1,tail:0,inTail:!1,resizeTimer:null,lt:null,vertical:!1,rtl:!1,circular:!1,underflow:!1,relative:!1,_options:{list:function(){return this.element().children().eq(0)},items:function(){return this.list().children()},animation:400,transitions:!1,wrap:null,vertical:null,rtl:null,center:!1},_list:null,_items:null,_target:null,_first:null,_last:null,_visible:null,_fullyvisible:null,_init:function(){var D=this;return this.onWindowResize=function(){D.resizeTimer&&clearTimeout(D.resizeTimer),D.resizeTimer=setTimeout(function(){D.reload()},100)},this},_create:function(){this._reload(),B(A).on("resize.jcarousel",this.onWindowResize)},_destroy:function(){B(A).off("resize.jcarousel",this.onWindowResize)},_reload:function(){this.vertical=this.options("vertical"),null==this.vertical&&(this.vertical=this.list().height()>this.list().width()),this.rtl=this.options("rtl"),null==this.rtl&&(this.rtl=function(F){if("rtl"===(""+F.attr("dir")).toLowerCase()){return !0}var G=!1;return F.parents("[dir]").each(function(){return/rtl/i.test(B(this).attr("dir"))?(G=!0,!1):void 0}),G}(this._element)),this.lt=this.vertical?"top":"left",this.relative="relative"===this.list().css("position"),this._list=null,this._items=null;var D=this._target&&this.index(this._target)>=0?this._target:this.closest();this.circular="circular"===this.options("wrap"),this.underflow=!1;var E={left:0,top:0};return D.length>0&&(this._prepare(D),this.list().find("[data-jcarousel-clone]").remove(),this._items=null,this.underflow=this._fullyvisible.length>=this.items().length,this.circular=this.circular&&!this.underflow,E[this.lt]=this._position(D)+"px"),this.move(E),this},list:function(){if(null===this._list){var D=this.options("list");this._list=B.isFunction(D)?D.call(this):this._element.find(D)}return this._list},items:function(){if(null===this._items){var D=this.options("items");this._items=(B.isFunction(D)?D.call(this):this.list().find(D)).not("[data-jcarousel-clone]")}return this._items},index:function(D){return this.items().index(D)},closest:function(){var E,G=this,F=this.list().position()[this.lt],I=B(),H=!1,D=this.vertical?"bottom":this.rtl&&!this.relative?"left":"right";return this.rtl&&this.relative&&!this.vertical&&(F+=this.list().width()-this.clipping()),this.items().each(function(){if(I=B(this),H){return !1}var J=G.dimension(I);if(F+=J,F>=0){if(E=J-C(I.css("margin-"+D)),!(0>=Math.abs(F)-J+E/2)){return !1}H=!0}}),I},target:function(){return this._target},first:function(){return this._first},last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},hasNext:function(){if(!1===this._trigger("hasnext")){return !0}var E=this.options("wrap"),D=this.items().length-1;return D>=0&&!this.underflow&&(E&&"first"!==E||D>this.index(this._last)||this.tail&&!this.inTail)?!0:!1},hasPrev:function(){if(!1===this._trigger("hasprev")){return !0}var D=this.options("wrap");return this.items().length>0&&!this.underflow&&(D&&"last"!==D||this.index(this._first)>0||this.tail&&this.inTail)?!0:!1},clipping:function(){return this._element["inner"+(this.vertical?"Height":"Width")]()},dimension:function(D){return D["outer"+(this.vertical?"Height":"Width")](!0)},scroll:function(I,T,M){if(this.animating){return this}if(!1===this._trigger("scroll",null,[I,T])){return this}B.isFunction(T)&&(M=T,T=!0);var D=B.jCarousel.parseTarget(I);if(D.relative){var G,F,H,P,J,S,O,L,N=this.items().length-1,R=Math.abs(D.target),E=this.options("wrap");if(D.target>0){var K=this.index(this._last);if(K>=N&&this.tail){this.inTail?"both"===E||"last"===E?this._scroll(0,T,M):B.isFunction(M)&&M.call(this,!1):this._scrollTail(T,M)}else{if(G=this.index(this._target),this.underflow&&G===N&&("circular"===E||"both"===E||"last"===E)||!this.underflow&&K===N&&("both"===E||"last"===E)){this._scroll(0,T,M)}else{if(H=G+R,this.circular&&H>N){for(L=N,J=this.items().get(-1);H>L++;){J=this.items().eq(0),S=this._visible.index(J)>=0,S&&J.after(J.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(J),S||(O={},O[this.lt]=this.dimension(J),this.moveBy(O)),this._items=null}this._scroll(J,T,M)}else{this._scroll(Math.min(H,N),T,M)}}}}else{if(this.inTail){this._scroll(Math.max(this.index(this._first)-R+1,0),T,M)}else{if(F=this.index(this._first),G=this.index(this._target),P=this.underflow?G:F,H=P-R,0>=P&&(this.underflow&&"circular"===E||"both"===E||"first"===E)){this._scroll(N,T,M)}else{if(this.circular&&0>H){for(L=H,J=this.items().get(0);0>L++;){J=this.items().eq(-1),S=this._visible.index(J)>=0,S&&J.after(J.clone(!0).attr("data-jcarousel-clone",!0)),this.list().prepend(J),this._items=null;var Q=this.dimension(J);O={},O[this.lt]=-Q,this.moveBy(O)}this._scroll(J,T,M)}else{this._scroll(Math.max(H,0),T,M)}}}}}else{this._scroll(D.target,T,M)}return this._trigger("scrollend"),this},moveBy:function(E,D){var G=this.list().position(),F=1,H=0;return this.rtl&&!this.vertical&&(F=-1,this.relative&&(H=this.list().width()-this.clipping())),E.left&&(E.left=G.left+H+C(E.left)*F+"px"),E.top&&(E.top=G.top+H+C(E.top)*F+"px"),this.move(E,D)},move:function(H,O){O=O||{};var K=this.options("transitions"),D=!!K,F=!!K.transforms,E=!!K.transforms3d,G=O.duration||0,M=this.list();if(!D&&G>0){return M.animate(H,O),void 0}var I=O.complete||B.noop,N={};if(D){var L=M.css(["transitionDuration","transitionTimingFunction","transitionProperty"]),J=I;I=function(){B(this).css(L),J.call(this)},N={transitionDuration:(G>0?G/1000:0)+"s",transitionTimingFunction:K.easing||O.easing,transitionProperty:G>0?function(){return F||E?"all":H.left?"left":"top"}():"none",transform:"none"}}E?N.transform="translate3d("+(H.left||0)+","+(H.top||0)+",0)":F?N.transform="translate("+(H.left||0)+","+(H.top||0)+")":B.extend(N,H),D&&G>0&&M.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",I),M.css(N),0>=G&&M.each(function(){I.call(this)})},_scroll:function(D,E,G){if(this.animating){return B.isFunction(G)&&G.call(this,!1),this}if("object"!=typeof D?D=this.items().eq(D):D.jquery===void 0&&(D=B(D)),0===D.length){return B.isFunction(G)&&G.call(this,!1),this}this.inTail=!1,this._prepare(D);var F=this._position(D),I=this.list().position()[this.lt];if(F===I){return B.isFunction(G)&&G.call(this,!1),this}var H={};return H[this.lt]=F+"px",this._animate(H,E,G),this},_scrollTail:function(D,E){if(this.animating||!this.tail){return B.isFunction(E)&&E.call(this,!1),this}var G=this.list().position()[this.lt];this.rtl&&this.relative&&!this.vertical&&(G+=this.list().width()-this.clipping()),this.rtl&&!this.vertical?G+=this.tail:G-=this.tail,this.inTail=!0;var F={};return F[this.lt]=G+"px",this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())}),this._animate(F,D,E),this},_animate:function(E,F,H){if(H=H||B.noop,!1===this._trigger("animate")){return H.call(this,!1),this}this.animating=!0;var G=this.options("animation"),J=B.proxy(function(){this.animating=!1;var K=this.list().find("[data-jcarousel-clone]");K.length>0&&(K.remove(),this._reload()),this._trigger("animateend"),H.call(this,!0)},this),I="object"==typeof G?B.extend({},G):{duration:G},D=I.complete||B.noop;return F===!1?I.duration=0:B.fx.speeds[I.duration]!==void 0&&(I.duration=B.fx.speeds[I.duration]),I.complete=function(){J(),D.call(this)},this.move(E,I),this},_prepare:function(H){var K,D,F,E,G=this.index(H),N=G,I=this.dimension(H),P=this.clipping(),M=this.vertical?"bottom":this.rtl?"left":"right",J=this.options("center"),L={target:H,first:H,last:H,visible:H,fullyvisible:P>=I?H:B()};if(J&&(I/=2,P/=2),P>I){for(;;){if(K=this.items().eq(++N),0===K.length){if(!this.circular){break}if(K=this.items().eq(0),H.get(0)===K.get(0)){break}if(D=this._visible.index(K)>=0,D&&K.after(K.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(K),!D){var O={};O[this.lt]=this.dimension(K),this.moveBy(O)}this._items=null}if(E=this.dimension(K),0===E){break}if(I+=E,L.last=K,L.visible=L.visible.add(K),F=C(K.css("margin-"+M)),P>=I-F&&(L.fullyvisible=L.fullyvisible.add(K)),I>=P){break}}}if(!this.circular&&!J&&P>I){for(N=G;;){if(0>--N){break}if(K=this.items().eq(N),0===K.length){break}if(E=this.dimension(K),0===E){break}if(I+=E,L.first=K,L.visible=L.visible.add(K),F=C(K.css("margin-"+M)),P>=I-F&&(L.fullyvisible=L.fullyvisible.add(K)),I>=P){break}}}return this._update(L),this.tail=0,J||"circular"===this.options("wrap")||"custom"===this.options("wrap")||this.index(L.last)!==this.items().length-1||(I-=C(L.last.css("margin-"+M)),I>P&&(this.tail=I-P)),this},_position:function(E){var D=this._first,F=D.position()[this.lt],H=this.options("center"),G=H?this.clipping()/2-this.dimension(D)/2:0;return this.rtl&&!this.vertical?(F-=this.relative?this.list().width()-this.dimension(D):this.clipping()-this.dimension(D),F+=G):F-=G,!H&&(this.index(E)>this.index(D)||this.inTail)&&this.tail?(F=this.rtl&&!this.vertical?F-this.tail:F+this.tail,this.inTail=!0):this.inTail=!1,-F},_update:function(D){var E,G=this,F={target:this._target||B(),first:this._first||B(),last:this._last||B(),visible:this._visible||B(),fullyvisible:this._fullyvisible||B()},I=this.index(D.first||F.first)<this.index(F.first),H=function(K){var L=[],J=[];D[K].each(function(){0>F[K].index(this)&&L.push(this)}),F[K].each(function(){0>D[K].index(this)&&J.push(this)}),I?L=L.reverse():J=J.reverse(),G._trigger(K+"in",B(L)),G._trigger(K+"out",B(J)),G["_"+K]=D[K]};for(E in D){H(E)}return this}})}(jQuery,window),function(A){A.jcarousel.fn.scrollIntoView=function(F,N,I){var B,D=A.jCarousel.parseTarget(F),C=this.index(this._fullyvisible.first()),E=this.index(this._fullyvisible.last());if(B=D.relative?0>D.target?Math.max(0,C+D.target):E+D.target:"object"!=typeof D.target?D.target:this.index(D.target),C>B){return this.scroll(B,N,I)}if(B>=C&&E>=B){return A.isFunction(I)&&I.call(this,!1),this}for(var L,G=this.items(),M=this.clipping(),K=this.vertical?"bottom":this.rtl?"left":"right",H=0;;){if(L=G.eq(B),0===L.length){break}if(H+=this.dimension(L),H>=M){var J=parseFloat(L.css("margin-"+K))||0;H-J!==M&&B++;break}if(0>=B){break}B--}return this.scroll(B,N,I)}}(jQuery),function(A){A.jCarousel.plugin("jcarouselControl",{_options:{target:"+=1",event:"click",method:"scroll"},_active:null,_init:function(){this.onDestroy=A.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",A.proxy(this._create,this))},this),this.onReload=A.proxy(this._reload,this),this.onEvent=A.proxy(function(B){B.preventDefault();var C=this.options("method");A.isFunction(C)?C.call(this):this.carousel().jcarousel(this.options("method"),this.options("target"))},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend jcarousel:scrollend",this.onReload),this._element.on(this.options("event")+".jcarouselcontrol",this.onEvent),this._reload()},_destroy:function(){this._element.off(".jcarouselcontrol",this.onEvent),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend jcarousel:scrollend",this.onReload)},_reload:function(){var B,C=A.jCarousel.parseTarget(this.options("target")),E=this.carousel();if(C.relative){B=E.jcarousel(C.target>0?"hasNext":"hasPrev")}else{var D="object"!=typeof C.target?E.jcarousel("items").eq(C.target):C.target;B=E.jcarousel("target").index(D)>=0}return this._active!==B&&(this._trigger(B?"active":"inactive"),this._active=B),this}})}(jQuery),function(A){A.jCarousel.plugin("jcarouselPagination",{_options:{perPage:null,item:function(B){return'<a href="#'+B+'">'+B+"</a>"},event:"click",method:"scroll"},_carouselItems:null,_pages:{},_items:{},_currentPage:null,_init:function(){this.onDestroy=A.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",A.proxy(this._create,this))},this),this.onReload=A.proxy(this._reload,this),this.onScroll=A.proxy(this._update,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend",this.onReload).on("jcarousel:scrollend",this.onScroll),this._reload()},_destroy:function(){this._clear(),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend",this.onReload).off("jcarousel:scrollend",this.onScroll),this._carouselItems=null},_reload:function(){var F=this.options("perPage");if(this._pages={},this._items={},A.isFunction(F)&&(F=F.call(this)),null==F){this._pages=this._calculatePages()}else{for(var L,H=parseInt(F,10)||0,B=this._getCarouselItems(),D=1,C=0;;){if(L=B.eq(C++),0===L.length){break}this._pages[D]=this._pages[D]?this._pages[D].add(L):L,0===C%H&&D++}}this._clear();var E=this,J=this.carousel().data("jcarousel"),G=this._element,K=this.options("item"),I=this._getCarouselItems().length;A.each(this._pages,function(M,N){var O=E._items[M]=A(K.call(E,M,N));O.on(E.options("event")+".jcarouselpagination",A.proxy(function(){var P=N.eq(0);if(J.circular){var R=J.index(J.target()),Q=J.index(P);parseFloat(M)>parseFloat(E._currentPage)?R>Q&&(P="+="+(I-R+Q)):Q>R&&(P="-="+(R+(I-Q)))}J[this.options("method")](P)},E)),G.append(O)}),this._update()},_update:function(){var B,C=this.carousel().jcarousel("target");A.each(this._pages,function(D,E){return E.each(function(){return C.is(this)?(B=D,!1):void 0}),B?!1:void 0}),this._currentPage!==B&&(this._trigger("inactive",this._items[this._currentPage]),this._trigger("active",this._items[B])),this._currentPage=B},items:function(){return this._items},reloadCarouselItems:function(){return this._carouselItems=null,this},_clear:function(){this._element.empty(),this._currentPage=null},_calculatePages:function(){for(var D,C=this.carousel().data("jcarousel"),E=this._getCarouselItems(),G=C.clipping(),F=0,I=0,H=1,B={};;){if(D=E.eq(I++),0===D.length){break}B[H]=B[H]?B[H].add(D):D,F+=C.dimension(D),F>=G&&(H++,F=0)}return B},_getCarouselItems:function(){return this._carouselItems||(this._carouselItems=this.carousel().jcarousel("items")),this._carouselItems}})}(jQuery),function(A){A.jCarousel.plugin("jcarouselAutoscroll",{_options:{target:"+=1",interval:3000,autostart:!0},_timer:null,_init:function(){this.onDestroy=A.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",A.proxy(this._create,this))},this),this.onAnimateEnd=A.proxy(this.start,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy),this.options("autostart")&&this.start()},_destroy:function(){this.stop(),this.carousel().off("jcarousel:destroy",this.onDestroy)},start:function(){return this.stop(),this.carousel().one("jcarousel:animateend",this.onAnimateEnd),this._timer=setTimeout(A.proxy(function(){this.carousel().jcarousel("scroll",this.options("target"))},this),this.options("interval")),this},stop:function(){return this._timer&&(this._timer=clearTimeout(this._timer)),this.carousel().off("jcarousel:animateend",this.onAnimateEnd),this}})}(jQuery);