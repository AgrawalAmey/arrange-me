webpackJsonp([8],{799:function(t,e,a){var n,o;n=[a(30),a(19),a(20),a(0),a(18),a(31),a(4),a(474),a(63),a(525),a(870),a(871),a(872),a(873),a(579),a(478),a(429)],void 0!==(o=function(t,e,a,n,o,r,i,c,s,l,d,f,u,p,h,m,v){function b(t,e){var o=new f(t,n.page.pageId);return o.fetch().then(function(n){var r;n.nav&&n.nav.trim().length>0&&(r=a.create(n.nav).first().each(function(e){(t.id||a(".tabs__tab",e).length>2)&&a(".js-sport-tabs").append(e)})),e&&e(n,r,o.endpoint)}).catch(function(){a(".score-container").remove(),a(".js-score").removeClass("u-h")})}function y(e,o){e=e.filter(function(t){return t}),0===e.filter(function(t){return!1===t.ready}).length&&c.belowArticleVisible(function(){var r;a(".js-after-article").append(a.create('<div class="football-extras"></div>').each(function(t){e.forEach(function(e,i){o?a.create(o).each(function(t){n.page.isLiveBlog&&a(t).addClass("dropdown--key-events"),a(".dropdown__label",t).append(e.name),a(".dropdown__content",t).append(e.content),a(".dropdown__button",t).attr("data-link-name","Show dropdown: "+e.name).each(function(t){0===i&&(r=t)})}).appendTo(t):t.appendChild(e.content)})})),r&&t.fire(r,"click")},function(){e.forEach(function(t){m.addComponent(t.content,t.importance)})})}function g(t,e,n){e[2]={ready:!1},a.create('<div class="js-football-table" data-link-name="football-table-embed"></div>').each(function(o){d.tableFor(t).fetch(o).then(function(){e[2]=a(".table__container",o).length>0?{name:"Table",importance:3,content:o,ready:!0}:void 0,y(e,n)},function(){delete e[2],y(e,n)})})}function _(t,a,n){e(t).append(e.create('<div class="loading"><div class="loading__message">'+(a||"Loading…")+"</div>"+(n?'<a href="'+n.href+'" class="loading__link">'+n.text+"</a>":"")+'<div class="loading__animation"></div></div>'))}function w(t){a(".loading",t).remove()}function j(){var o,i=[];c.isMatch(function(t){if(i[0]={ready:!1},"stats"===t.pageType)b(t);else{var e=a(".js-score"),n=new h({pageType:t.pageType,parent:e,responseDataKey:"matchSummary",autoupdated:t.isLive});b(t,function(t,r,s){if(o=t.dropdown,/^\s+$/.test(n.template)?e.removeClass("u-h"):(n.endpoint=s,n.loadFromJson(t.matchSummary)),t.hasStarted&&r){var f=a(".tab--stats a",r).attr("href").replace(/^.*\/\/[^\/]+/,"");a.create('<div class="match-stats__container"></div>').each(function(t){d.statsFor(f).fetch(t).then(function(){a(".js-chart",t).each(function(t){(new l.TableDoughnut).render(t)}),i[0]={name:"Match stats",importance:3,content:t,ready:!0},y(i,o)})})}else delete i[0],y(i,o);c.isCompetition(function(e){i[1]={ready:!1},""!==t.group&&g(e+"/"+t.group,i,o),a.create('<div class="js-football-match-day" data-link-name="football-match-day-embed"></div>').each(function(a){d.matchDayFor(e,t.matchDate).fetch(a).then(function(){i[1]={name:"Today’s matches",importance:2,content:a,ready:!0},y(i,o)},function(){delete i[1],y(i,o)})})})})}}),c.isCompetition(function(t){var e=a(".js-secondary-column").dim().height;(0===e||e>1800)&&g(t,i,o)}),c.isLiveClockwatch(function(){var t=new u("match-day",c.isCompetition()||"premierleague",n.dateFromSlug()),e=a(".media-primary"),o=a.create('<div class="football-matches__container" data-link-name="football-matches-clockwatch"></div>').css({minHeight:e[0]?e[0].offsetHeight:0});e.addClass("u-h"),_(o[0],"Fetching today’s matches…",{text:"Impatient?",href:"/football/live"}),a(".js-football-meta").append(o),t.fetch(o[0]).fail(function(){t.destroy(),o.remove(),e.removeClass("u-h")}).always(function(){0===a(".football-match",o[0]).length&&(t.destroy(),o.remove(),e.removeClass("u-h")),o.css({minHeight:0}),w(o[0])})}),c.isFootballStatsPage(function(){a(".js-chart").each(function(t){(new l).render(t)})}),t.on(document.body,"click",".js-show-more-football-matches",function(t){t.preventDefault();var n=t.currentTarget;r(n.getAttribute("href")+".json").then(function(t){a.create(t.html).each(function(a){var o=document.querySelector('[data-show-more-contains="'+n.getAttribute("data-puts-more-into")+'"]');o&&(v.replaceLocaleTimestamps(a),o.appendChild(a));var r=t[n.getAttribute("data-new-url")];r?e(n).attr("href",r):e(n).remove()})}).catch(function(t){s(t,{feature:"football-show-more"})})}),t.on(document.body,"change",a("form.football-leagues")[0],function(){window.location=this.value}),p()}return{init:j}}.apply(e,n))&&(t.exports=o)},870:function(t,e,a){var n,o;n=[a(45)],void 0!==(o=function(t){function e(e){var a=new t;return a.endpoint=e,a}function a(t,a){return e("/football/match-day/"+t+"/"+a+".json")}function n(t){return e("/football/"+t+"/table.json")}function o(t){return e(t+".json")}return{matchDayFor:a,tableFor:n,statsFor:o}}.apply(e,n))&&(t.exports=o)},871:function(t,e,a){var n,o;n=[a(20),a(31)],void 0!==(o=function(t,e){var a=function(t,e){this.endpoint+=(t.id?t.id:[t.date].concat(t.teams).join("/"))+".json?page="+encodeURIComponent(e)};return a.prototype.endpoint="/football/api/match-nav/",a.prototype.fetch=function(){return e(this.endpoint,{mode:"cors"})},a}.apply(e,n))&&(t.exports=o)},872:function(t,e,a){var n,o;n=[a(19),a(20),a(45)],void 0!==(o=function(t,e,a){var n=function(t,e,a){this.endpoint+=["football",t,e,a].filter(function(t){return t}).join("/")+".json"};return a.define(n),n.prototype.endpoint="/",n.prototype.autoupdated=!0,n.prototype.updateEvery=10,n.prototype.prerender=function(){var t=this.elem;e(".football-team__form",t).remove(),e(".date-divider",t).remove(),e(this.elem).addClass("table--small"),e(".football-matches__date",this.elem).replaceWith('<span class="item__live-indicator">Live</span>')},n.prototype.autoupdate=function(a){var n,o,r=e(".football-match",a),i=this;e(".football-match",this.elem).each(function(e,a){n=t(e).removeClass("football-match--updated"),o=t(r[a]),["score-home","score-away","match-status"].forEach(function(t){t="data-"+t,o.attr(t)!==n.attr(t)&&(n.replaceWith(o.addClass("football-match--updated")),i.prerender())})})},n}.apply(e,n))&&(t.exports=o)},873:function(t,e,a){var n,o;n=[a(0),a(31),a(63)],void 0!==(o=function(t,e,a){return function(){var n=document.querySelector(".js-insert-team-stats-after");n&&e("/"+t.page.pageId+"/fixtures-and-results-container",{mode:"cors"}).then(function(t){t.html&&n.insertAdjacentHTML("afterend",t.html)}).catch(function(t){a(t,{feature:"tag-fixtures"})})}}.apply(e,n))&&(t.exports=o)}});
//# sourceMappingURL=graun.football.js.map